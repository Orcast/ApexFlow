CREATE TABLE apexflow_product (
    id INT PRIMARY KEY AUTO_INCREMENT COMMENT '商品ID',
    name VARCHAR(100) NOT NULL COMMENT '商品名称',
    category VARCHAR(50) COMMENT '商品分类',
    price DECIMAL(10,2) NOT NULL COMMENT '商品单价',
    stock INT DEFAULT 0 COMMENT '库存数量',
    status TINYINT DEFAULT 1 COMMENT '状态：1-上架，0-下架',
    image VARCHAR(200) COMMENT '主图URL',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间'
) COMMENT='商品信息表';

CREATE TABLE apexflow_inventory_log (
    id INT PRIMARY KEY AUTO_INCREMENT COMMENT '记录ID',
    product_id INT NOT NULL COMMENT '关联商品ID',
    change_type VARCHAR(20) COMMENT '变更类型：sale-销售，purchase-采购，adjust-调整',
    quantity INT NOT NULL COMMENT '变更数量（正数增加，负数减少）',
    before_stock INT COMMENT '变更前库存',
    after_stock INT COMMENT '变更后库存',
    order_id VARCHAR(50) COMMENT '关联订单号（如果是销售）',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '变更时间',
    FOREIGN KEY (product_id) REFERENCES apexflow_product(id)
) COMMENT='库存变更日志表';

-- 插入50条商品数据
INSERT INTO apexflow_product (name, category, price, stock, status, image) VALUES
('iPhone 14 Pro', '手机', 7999.00, 100, 1, 'iphone14.jpg'),
('MacBook Pro 16英寸', '电脑', 18999.00, 50, 1, 'macbook.jpg'),
('华为Mate 50', '手机', 4999.00, 150, 1, 'huawei.jpg'),
('小米13', '手机', 3999.00, 200, 1, 'xiaomi.jpg'),
('戴尔XPS 13', '电脑', 8999.00, 80, 1, 'dell.jpg'),
('索尼75英寸电视', '家电', 12999.00, 30, 1, 'sonytv.jpg'),
('海尔冰箱', '家电', 5999.00, 60, 1, 'haier.jpg'),
('格力空调', '家电', 3999.00, 100, 1, 'gree.jpg'),
('耐克跑鞋', '服饰', 699.00, 300, 1, 'nike.jpg'),
('阿迪达斯运动服', '服饰', 499.00, 250, 1, 'adidas.jpg'),
('联想拯救者', '电脑', 7999.00, 70, 1, 'lenovo.jpg'),
('三星S23', '手机', 5699.00, 120, 1, 'samsung.jpg'),
('美的微波炉', '家电', 599.00, 180, 1, 'midea.jpg'),
('苏泊尔电饭煲', '家电', 399.00, 220, 1, 'supor.jpg'),
('安踏运动鞋', '服饰', 399.00, 350, 1, 'anta.jpg'),
('李宁T恤', '服饰', 199.00, 400, 1, 'lining.jpg'),
('佳能相机', '数码', 8999.00, 40, 1, 'canon.jpg'),
('索尼耳机', '数码', 1299.00, 150, 1, 'sonyhead.jpg'),
('小米手环', '数码', 299.00, 300, 1, 'xiao_miband.jpg'),
('罗技鼠标', '电脑配件', 299.00, 200, 1, 'logitech.jpg'),
('苹果耳机', '数码', 1499.00, 120, 1, 'airpods.jpg'),
('飞利浦剃须刀', '个护', 899.00, 180, 1, 'philips.jpg'),
('欧莱雅面霜', '美妆', 299.00, 250, 1, 'loreal.jpg'),
('海蓝之谜精华', '美妆', 2999.00, 30, 1, 'lamer.jpg'),
('雅诗兰黛口红', '美妆', 299.00, 280, 1, 'esteelauder.jpg'),
('康师傅方便面', '食品', 5.00, 1000, 1, 'kangshifu.jpg'),
('可口可乐', '饮料', 3.00, 800, 1, 'cocacola.jpg'),
('蒙牛纯牛奶', '食品', 69.00, 400, 1, 'mengniu.jpg'),
('金龙鱼大米', '食品', 89.00, 300, 1, 'jinlongyu.jpg'),
('海天酱油', '调味品', 15.00, 500, 1, 'haitian.jpg'),
('洁柔抽纸', '日用品', 39.00, 600, 1, 'jierou.jpg'),
('黑人牙膏', '个护', 29.00, 450, 1, 'heiren.jpg'),
('飘柔洗发水', '个护', 39.00, 380, 1, 'piaorou.jpg'),
('蓝月亮洗衣液', '日用品', 49.00, 420, 1, 'lanyueliang.jpg'),
('宜家桌子', '家具', 499.00, 100, 1, 'ikea.jpg'),
('顾家沙发', '家具', 3999.00, 40, 1, 'gujia.jpg'),
('芝华士椅子', '家具', 1999.00, 60, 1, 'zhihuashi.jpg'),
('双立人菜刀', '厨具', 399.00, 150, 1, 'shuangliren.jpg'),
('乐扣水杯', '厨具', 89.00, 300, 1, 'locknlock.jpg'),
('天堂伞', '日用品', 59.00, 400, 1, 'tiantang.jpg'),
('小米充电宝', '数码', 199.00, 280, 1, 'charger.jpg'),
('华为路由器', '数码', 299.00, 180, 1, 'router.jpg'),
('漫步者音响', '数码', 399.00, 120, 1, 'edifier.jpg'),
('Kindle阅读器', '数码', 999.00, 80, 1, 'kindle.jpg'),
('九阳豆浆机', '家电', 399.00, 150, 1, 'jiuyang.jpg'),
('小熊电炖锅', '家电', 199.00, 200, 1, 'xiaoxiong.jpg'),
('三只松鼠零食', '食品', 99.00, 350, 1, 'sanzhisongshu.jpg'),
('良品铺子坚果', '食品', 89.00, 320, 1, 'liangpinpuzi.jpg'),
('维达纸巾', '日用品', 29.00, 500, 1, 'veda.jpg'),
('心相印湿巾', '日用品', 19.00, 450, 1, 'xinxiangyin.jpg');

-- 插入50条库存日志数据
INSERT INTO apexflow_inventory_log (product_id, change_type, quantity, before_stock, after_stock, order_id, created_at) VALUES
(1, 'purchase', 100, 0, 100, NULL, '2023-12-01 10:00:00'),
(2, 'purchase', 50, 0, 50, NULL, '2023-12-01 10:00:00'),
(3, 'purchase', 150, 0, 150, NULL, '2023-12-01 10:00:00'),
(4, 'purchase', 200, 0, 200, NULL, '2023-12-01 10:00:00'),
(5, 'purchase', 80, 0, 80, NULL, '2023-12-01 10:00:00'),
(6, 'purchase', 30, 0, 30, NULL, '2023-12-01 10:00:00'),
(7, 'purchase', 60, 0, 60, NULL, '2023-12-01 10:00:00'),
(8, 'purchase', 100, 0, 100, NULL, '2023-12-01 10:00:00'),
(9, 'purchase', 300, 0, 300, NULL, '2023-12-01 10:00:00'),
(10, 'purchase', 250, 0, 250, NULL, '2023-12-01 10:00:00'),
(11, 'purchase', 70, 0, 70, NULL, '2023-12-01 10:00:00'),
(12, 'purchase', 120, 0, 120, NULL, '2023-12-01 10:00:00'),
(13, 'purchase', 180, 0, 180, NULL, '2023-12-01 10:00:00'),
(14, 'purchase', 220, 0, 220, NULL, '2023-12-01 10:00:00'),
(15, 'purchase', 350, 0, 350, NULL, '2023-12-01 10:00:00'),
(16, 'purchase', 400, 0, 400, NULL, '2023-12-01 10:00:00'),
(17, 'purchase', 40, 0, 40, NULL, '2023-12-01 10:00:00'),
(18, 'purchase', 150, 0, 150, NULL, '2023-12-01 10:00:00'),
(19, 'purchase', 300, 0, 300, NULL, '2023-12-01 10:00:00'),
(20, 'purchase', 200, 0, 200, NULL, '2023-12-01 10:00:00'),
(21, 'purchase', 120, 0, 120, NULL, '2023-12-01 10:00:00'),
(22, 'purchase', 180, 0, 180, NULL, '2023-12-01 10:00:00'),
(23, 'purchase', 250, 0, 250, NULL, '2023-12-01 10:00:00'),
(24, 'purchase', 30, 0, 30, NULL, '2023-12-01 10:00:00'),
(25, 'purchase', 280, 0, 280, NULL, '2023-12-01 10:00:00'),
(26, 'purchase', 1000, 0, 1000, NULL, '2023-12-01 10:00:00'),
(27, 'purchase', 800, 0, 800, NULL, '2023-12-01 10:00:00'),
(28, 'purchase', 400, 0, 400, NULL, '2023-12-01 10:00:00'),
(29, 'purchase', 300, 0, 300, NULL, '2023-12-01 10:00:00'),
(30, 'purchase', 500, 0, 500, NULL, '2023-12-01 10:00:00'),
(31, 'purchase', 600, 0, 600, NULL, '2023-12-01 10:00:00'),
(32, 'purchase', 450, 0, 450, NULL, '2023-12-01 10:00:00'),
(33, 'purchase', 380, 0, 380, NULL, '2023-12-01 10:00:00'),
(34, 'purchase', 420, 0, 420, NULL, '2023-12-01 10:00:00'),
(35, 'purchase', 100, 0, 100, NULL, '2023-12-01 10:00:00'),
(36, 'purchase', 40, 0, 40, NULL, '2023-12-01 10:00:00'),
(37, 'purchase', 60, 0, 60, NULL, '2023-12-01 10:00:00'),
(38, 'purchase', 150, 0, 150, NULL, '2023-12-01 10:00:00'),
(39, 'purchase', 300, 0, 300, NULL, '2023-12-01 10:00:00'),
(40, 'purchase', 400, 0, 400, NULL, '2023-12-01 10:00:00'),
(41, 'purchase', 280, 0, 280, NULL, '2023-12-01 10:00:00'),
(42, 'purchase', 180, 0, 180, NULL, '2023-12-01 10:00:00'),
(43, 'purchase', 120, 0, 120, NULL, '2023-12-01 10:00:00'),
(44, 'purchase', 80, 0, 80, NULL, '2023-12-01 10:00:00'),
(45, 'purchase', 150, 0, 150, NULL, '2023-12-01 10:00:00'),
(46, 'purchase', 200, 0, 200, NULL, '2023-12-01 10:00:00'),
(47, 'purchase', 350, 0, 350, NULL, '2023-12-01 10:00:00'),
(48, 'purchase', 320, 0, 320, NULL, '2023-12-01 10:00:00'),
(49, 'purchase', 500, 0, 500, NULL, '2023-12-01 10:00:00'),
(50, 'purchase', 450, 0, 450, NULL, '2023-12-01 10:00:00');